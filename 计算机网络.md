# 计算机网络

## 第一章 计算机网络和因特网

概述计算机网络和因特网，从边缘部分到核心部分，**因特网是网络的网络**给出吞吐量、时延模型。   

==计算机网络==把许多计算机连接在一起，而==因特网==将许多网络==连接==在一起因而称为网络中的网络。

网络的连接需要物理+软件。

**三网**：电信网络、移动电视网络、计算机网络。

计算机网络向用户提供的最重要的功能：==连接==和==共享==。

### 1.1.1因特网具体构成描述

**因特网：** 世界范围的计算机网络，互联遍及全世界数十亿的==计算设备==的网络。

+ **计算设备：** 由传统PC、Linux工作站以及==服务器==到手机、游戏机等。

+ **服务器：** 服务器是网络环境下为客户提供各种服务的专用计算机。在网络中承担着数据的存储、转发、发布等关键任务，就如同网络的 “心脏”，是网络中不可或缺的重要组成部分。

因特网术语下计算设备称为**主机** （host）或**端系统**（end system)。

**主机**：连接到计算机网络上的计算机统称为主机。

端系统通过**通信链路**(communication link)和**分组交换机**(packet switch)连接在一起。（分组交换机都具有存储功能。）

链路的**传输速率**以比特/秒(bps)度量。

**分组(packet)：** 发送端系统将数据分段，每一段前加上序号和地址（首部字节）.

分组交换机从一个入通信链路处接受分组，并将分组从出通信链路处发出，例如**路由器**(router)和**链路层交换机**(link-layer switch),路由器工作在网络层而链路层交换机工作在链路层。

**路径**(path):分组所经过的通信链路和分组交换机。

端系统通过**因特网服务提供商**(ISP)接入到因特网中。

+ **ISP**:由多台分组交换机及通信链路组成，彼此独立。

端系统、分组交换机和其他因特网部件都要运行一系列**协议**(prorocol)，控制因特网中信息的接收和发送。其中 ==TCP(传输控制协议)== 和 ==IP（网际协议）== 协议最为重要。因特网主要协议统称为TCP/IP协议。

+ IP协议定义了路由器和端系统之间发送和接收的分组格式。

**因特网标准**由==因特网工程任务组(IETF)== 研发。IETF的标准文档称为**请求评论**(Request For Comment,RFC)

### 1.1.2因特网服务描述

**分布式应用程序**(distributed application):手机和平板电脑等移动设备上的应用程序涉及多个相互交换数据的端系统，因此称为分布式应用程序。

与因特网相连的端系统上提供一个**套接字接口**(socket interface),该接口规定数据如何发送到另一个端系统。

### 1.1.3什么是协议

what is protocol？

**协议**：定义了在两个及以上通信实体之间交换的报文的==格式和顺序== ，以及报文发送和/或接收一条报文或其他事件所==采取的动作。==

### 1.2 网络边缘

主机分为==客户==和==服务器==。

**数据中心 (date center)**:提供搜索结果、电子邮件、web页面和视频的服务器。

#### 1.2.1 接入网

**接入网**：将端系统连接到其==边缘路由器(edge router)== 的网络。

**边缘路由器**：端系统到任意远程端系统的路径上的第一台路由器。

##### 1.家庭接入：DSL、电缆、FTTH、拨号和卫星

宽带接入住宅最流行的两种类型：==数字用户线(DSL)==和==电缆==。

家庭pc+家庭电话->DSL调制解调器->分配器->电话公司本地中心局（co）中的数字用户线接入复用器(DSLAM)。

数字用户线调制解调器（DSL调制解调器）将数字数据转换为高频音，DSLAM将模拟信号转换成数字形式。

家庭电话线同时承载数据和电话信号，并将其通过不同的频率进行编码：

+ 普通双向电话信道：0-4kHZ频段。
+ 中速上行信道：4kHZ-50kHZ频段。
+ 高速下行信道：50kHZ-1MHZ频段。
  
DSLAM将电话信号与数据分隔开，数百上千的家庭与同一个DSLAM相连。

数以百计家庭-同轴电缆->光纤节点-光缆->电缆头端的CMTS(电缆调制解调器端接系统)

系统中使用光纤+同轴电缆，因此称为混合光纤同轴系统。

DSL利用现有的本地电话基础设施，==电缆因特网接入（cable Internet access）== 利用现有的有线电视基础设施。

电缆因特网接入使用电缆调制解调器，电缆调制解调器通过一个以太网接口连接到家庭pc。

***

|DSL因特网接入 |混合光纤同轴接入网|FTTH因特网接入
|:--------:|:--------:|:-----:
|数字用户线DSL | 电缆 光纤| 光纤
|DSL调制解调器 |电缆调制解调器|光纤分配器
|数字用户接入线DSLAM|电缆调制解调器端系统CMTS|光纤线路端接器
|本地电话基础设施|有线电视基础设施|光纤到户

##### 2.企业和家庭接入：以太网和WiFi

 **以太网**：双绞铜线有线连接到以太网交换机

 **WiFi**:无线

##### 3.广域无线接入：4G、LTE

#### 1.2.2物理媒体

+ 导引型媒体：固体
+ 非导引型媒体：空气、外层空间 

##### 1.双绞铜线

绞合、8根线、局域网

##### 2.同轴电缆

两个铜导体组

##### 3.光纤

导引光脉冲，一个脉冲一个比特

##### 4.陆地无线电信道

##### 5.卫星无线电信道

### 1.3网络核心

#### 1.3.1分组交换

分组（packet）

##### 1.存储转发传输

路由器缓存导致转发时延

##### 2.排队时延和分组丢失

交换机有输出缓存（输出队列）导致排队时延

缓存空间满会导致分组丢包

##### 3.转发表和路由选择协议

路由器有转发表

路由选择协议自动设置转发表

#### 1.3.2电路交换

预存资源（缓存、链路传输速率）

端到端连接获得专用传输速率

##### 1.电路交换网络中的复用

+ 频分复用（FDM）
+ 时分复用（TDM）
  
##### 2.分组交换与电路交换的对比

分组交换更好

#### 1.3.3  网络中的网络

+ 因特网交换点（IXP）

**网络结构**：接入ISP、区域ISP、第一层ISP、PoP、多宿、对等、IXP和内容提供商网络

### 1.4分组交换网中的时延、丢包和吞吐量

#### 1.4.1 分组交换网中的时延概述

+ 节点处理时延
+ 排队时延
+ 传输时延
+ 传播时延
  
#### 1.4.2 排队时延和丢包

+ 流量强度
+ 丢包
  
#### 1.4.3 端到端时延

