æˆ‘æ¥å®ç°ä¸€ä¸ªå‘½ä»¤è¡Œç‰ˆæœ¬çš„2048æ¸¸æˆï¼Œä½¿ç”¨Pythonè¯­è¨€ã€‚

## 1. ç¨‹åºçš„è®¾è®¡æ€æƒ³

### æ•´ä½“æ¶æ„ï¼š

- ä½¿ç”¨é¢å‘å¯¹è±¡è®¾è®¡ï¼Œå°†æ¸¸æˆé€»è¾‘å°è£…åœ¨ `Game2048` ç±»ä¸­
- æ ¸å¿ƒæ•°æ®ç»“æ„ï¼š4Ã—4çš„äºŒç»´æ•°ç»„è¡¨ç¤ºæ¸¸æˆæ£‹ç›˜
- æ¸¸æˆæµç¨‹ï¼šåˆå§‹åŒ–â†’æ˜¾ç¤ºæ£‹ç›˜â†’è·å–è¾“å…¥â†’ç§»åŠ¨å¤„ç†â†’ç”Ÿæˆæ–°æ•°å­—â†’åˆ¤æ–­æ¸¸æˆçŠ¶æ€

### å…³é”®ç®—æ³•ï¼š

1. **ç§»åŠ¨åˆå¹¶ç®—æ³•**ï¼šå°†ä¸€è¡Œ/åˆ—çš„æ•°å­—è¿›è¡Œåˆå¹¶ï¼ˆç›¸åŒæ•°å­—åˆå¹¶ï¼Œç©ºä½è¡¥0ï¼‰
2. **æ–¹å‘è½¬æ¢**ï¼šé€šè¿‡çŸ©é˜µè½¬ç½®å’Œåè½¬æ¥ç»Ÿä¸€å¤„ç†å››ä¸ªæ–¹å‘çš„ç§»åŠ¨
3. **éšæœºæ•°ç”Ÿæˆ**ï¼šåœ¨ç©ºç™½ä½ç½®éšæœºç”Ÿæˆ2æˆ–4ï¼ˆ2çš„æ¦‚ç‡ä¸º90%ï¼Œ4çš„æ¦‚ç‡ä¸º10%ï¼‰
4. **æ¸¸æˆçŠ¶æ€åˆ¤æ–­**ï¼šæ£€æŸ¥æ˜¯å¦èƒœåˆ©ï¼ˆå‡ºç°2048ï¼‰ã€å¤±è´¥ï¼ˆæ— ç©ºä½ä¸”æ— æ³•åˆå¹¶ï¼‰ã€ç»§ç»­

## 2. æ ¸å¿ƒä»£ç è¯´æ˜

```python
def move(self, direction):
    """æ ¸å¿ƒç§»åŠ¨å‡½æ•°ï¼Œå¤„ç†å››ä¸ªæ–¹å‘çš„ç§»åŠ¨"""
    moved = False
    
    # ç»Ÿä¸€å¤„ç†ï¼šéƒ½è½¬æ¢ä¸ºå‘å·¦ç§»åŠ¨çš„é€»è¾‘
    for i in range(4):
        # æ ¹æ®æ–¹å‘æå–ä¸€è¡Œ/ä¸€åˆ—
        if direction == 'w':  # ä¸Š
            line = [self.board[j][i] for j in range(4)]
        elif direction == 's':  # ä¸‹
            line = [self.board[3-j][i] for j in range(4)]
        elif direction == 'a':  # å·¦
            line = self.board[i][:]
        else:  # å³
            line = self.board[i][::-1]
        
        # åˆå¹¶ç›¸åŒçš„æ•°å­—
        new_line = self.merge(line)
        
        # å°†åˆå¹¶åçš„è¡Œ/åˆ—æ”¾å›æ£‹ç›˜
        if direction == 'w':
            for j in range(4):
                if self.board[j][i] != new_line[j]:
                    moved = True
                self.board[j][i] = new_line[j]
        elif direction == 's':
            for j in range(4):
                if self.board[3-j][i] != new_line[j]:
                    moved = True
                self.board[3-j][i] = new_line[j]
        elif direction == 'a':
            if self.board[i] != new_line:
                moved = True
            self.board[i] = new_line
        else:  # å³
            if self.board[i][::-1] != new_line:
                moved = True
            self.board[i] = new_line[::-1]
    
    return moved
```

**mergeå‡½æ•°è¯¦è§£**ï¼š
```python
def merge(self, line):
    """åˆå¹¶ä¸€è¡Œçš„æ•°å­—ï¼Œå¦‚ [2, 2, 4, 0] -> [4, 4, 0, 0]"""
    # 1. ç§»é™¤0ï¼Œå°†æ•°å­—å‘å·¦é æ‹¢
    new_line = [num for num in line if num != 0]
    
    # 2. åˆå¹¶ç›¸é‚»çš„ç›¸åŒæ•°å­—
    i = 0
    while i < len(new_line) - 1:
        if new_line[i] == new_line[i + 1]:
            new_line[i] *= 2
            new_line.pop(i + 1)
        i += 1
    
    # 3. è¡¥0åˆ°é•¿åº¦ä¸º4
    new_line += [0] * (4 - len(new_line))
    return new_line
```

## 3. å®Œæ•´ç¨‹åºä»£ç 

```python
import random
import os

class Game2048:
    def __init__(self):
        """åˆå§‹åŒ–æ¸¸æˆ"""
        self.board = [[0] * 4 for _ in range(4)]
        self.score = 0
        self.game_over = False
        self.win = False
        self.init_game()
    
    def init_game(self):
        """æ¸¸æˆåˆå§‹åŒ–ï¼Œç”Ÿæˆä¸¤ä¸ªåˆå§‹æ•°å­—"""
        for _ in range(2):
            self.generate_new_number()
    
    def generate_new_number(self):
        """åœ¨ç©ºç™½ä½ç½®éšæœºç”Ÿæˆ2æˆ–4"""
        empty_cells = []
        
        # æ‰¾å‡ºæ‰€æœ‰ç©ºç™½ä½ç½®
        for i in range(4):
            for j in range(4):
                if self.board[i][j] == 0:
                    empty_cells.append((i, j))
        
        if empty_cells:
            i, j = random.choice(empty_cells)
            # 90%æ¦‚ç‡ç”Ÿæˆ2ï¼Œ10%æ¦‚ç‡ç”Ÿæˆ4
            self.board[i][j] = 2 if random.random() < 0.9 else 4
    
    def merge(self, line):
        """åˆå¹¶ä¸€è¡Œçš„æ•°å­—"""
        # ç§»é™¤0ï¼Œå°†æ•°å­—å‘å·¦é æ‹¢
        new_line = [num for num in line if num != 0]
        
        # åˆå¹¶ç›¸é‚»çš„ç›¸åŒæ•°å­—
        i = 0
        while i < len(new_line) - 1:
            if new_line[i] == new_line[i + 1]:
                new_line[i] *= 2
                self.score += new_line[i]  # æ›´æ–°åˆ†æ•°
                new_line.pop(i + 1)
            i += 1
        
        # è¡¥0åˆ°é•¿åº¦ä¸º4
        new_line += [0] * (4 - len(new_line))
        return new_line
    
    def move(self, direction):
        """å¤„ç†ç§»åŠ¨"""
        moved = False
        
        # ç»Ÿä¸€å¤„ç†ï¼šéƒ½è½¬æ¢ä¸ºå‘å·¦ç§»åŠ¨çš„é€»è¾‘
        for i in range(4):
            # æ ¹æ®æ–¹å‘æå–ä¸€è¡Œ/ä¸€åˆ—
            if direction == 'w':  # ä¸Š
                line = [self.board[j][i] for j in range(4)]
            elif direction == 's':  # ä¸‹
                line = [self.board[3-j][i] for j in range(4)]
            elif direction == 'a':  # å·¦
                line = self.board[i][:]
            else:  # å³
                line = self.board[i][::-1]
            
            # åˆå¹¶ç›¸åŒçš„æ•°å­—
            new_line = self.merge(line)
            
            # å°†åˆå¹¶åçš„è¡Œ/åˆ—æ”¾å›æ£‹ç›˜
            if direction == 'w':
                for j in range(4):
                    if self.board[j][i] != new_line[j]:
                        moved = True
                    self.board[j][i] = new_line[j]
            elif direction == 's':
                for j in range(4):
                    if self.board[3-j][i] != new_line[j]:
                        moved = True
                    self.board[3-j][i] = new_line[j]
            elif direction == 'a':
                if self.board[i] != new_line:
                    moved = True
                self.board[i] = new_line
            else:  # å³
                if self.board[i][::-1] != new_line:
                    moved = True
                self.board[i] = new_line[::-1]
        
        return moved
    
    def check_game_status(self):
        """æ£€æŸ¥æ¸¸æˆçŠ¶æ€"""
        # æ£€æŸ¥æ˜¯å¦è¾¾åˆ°2048
        for row in self.board:
            if 2048 in row:
                self.win = True
                return "win"
        
        # æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ç©ºä½
        for row in self.board:
            if 0 in row:
                return "continue"
        
        # æ£€æŸ¥æ˜¯å¦è¿˜èƒ½åˆå¹¶
        for i in range(4):
            for j in range(4):
                # æ£€æŸ¥å³ä¾§æ˜¯å¦å¯ä»¥åˆå¹¶
                if j < 3 and self.board[i][j] == self.board[i][j + 1]:
                    return "continue"
                # æ£€æŸ¥ä¸‹ä¾§æ˜¯å¦å¯ä»¥åˆå¹¶
                if i < 3 and self.board[i][j] == self.board[i + 1][j]:
                    return "continue"
        
        self.game_over = True
        return "game over"
    
    def display_board(self):
        """æ˜¾ç¤ºæ¸¸æˆæ£‹ç›˜"""
        os.system('cls' if os.name == 'nt' else 'clear')  # æ¸…å±
        
        print("=" * 35)
        print("          2048 GAME")
        print("=" * 35)
        print(f"Score: {self.score}")
        print()
        
        for row in self.board:
            print("+------+------+------+------+")
            print("|", end="")
            for cell in row:
                if cell == 0:
                    print("      |", end="")
                else:
                    print(f"{cell:^6}|", end="")
            print()
        print("+------+------+------+------+")
        print()
        
        if self.win:
            print("ğŸ‰ Congratulations! You reached 2048!")
            print("You can continue playing...")
        elif self.game_over:
            print("ğŸ’” Game Over! No more moves available.")
        else:
            print("Controls: w(â†‘) a(â†) s(â†“) d(â†’) q(quit)")
    
    def run(self):
        """è¿è¡Œæ¸¸æˆä¸»å¾ªç¯"""
        print("Welcome to 2048!")
        print("Use WASD keys to move the tiles.")
        print("Try to reach 2048!")
        print()
        
        while True:
            self.display_board()
            
            if self.game_over or self.win:
                choice = input("Play again? (y/n): ").lower()
                if choice == 'y':
                    self.__init__()
                    continue
                else:
                    break
            
            # è·å–ç©å®¶è¾“å…¥
            move_map = {
                'w': 'up',
                'a': 'left',
                's': 'down',
                'd': 'right',
                'q': 'quit'
            }
            
            direction = input("Enter move (w/a/s/d) or q to quit: ").lower()
            
            if direction == 'q':
                print("Thanks for playing!")
                break
            
            if direction not in ['w', 'a', 's', 'd']:
                print("Invalid input! Use w/a/s/d")
                input("Press Enter to continue...")
                continue
            
            # æ‰§è¡Œç§»åŠ¨
            moved = self.move(direction)
            
            if moved:
                # ç”Ÿæˆæ–°æ•°å­—
                self.generate_new_number()
                # æ£€æŸ¥æ¸¸æˆçŠ¶æ€
                self.check_game_status()


def main():
    """ä¸»å‡½æ•°"""
    game = Game2048()
    game.run()


if __name__ == "__main__":
    main()
```

## 4. è¿è¡Œç»“æœæˆªå›¾

ç”±äºè¿™é‡Œæ˜¯æ–‡æœ¬ç¯å¢ƒï¼Œæˆ‘æ— æ³•æä¾›çœŸå®çš„æˆªå›¾ï¼Œä½†æˆ‘å¯ä»¥å±•ç¤ºæ¸¸æˆè¿è¡Œæ—¶çš„å…¸å‹ç•Œé¢ï¼š

```
===================================
          2048 GAME
===================================
Score: 28

+------+------+------+------+
|      |      |      |      |
+------+------+------+------+
|   2  |      |      |      |
+------+------+------+------+
|      |   4  |   2  |      |
+------+------+------+------+
|      |      |      |   4  |
+------+------+------+------+

Controls: w(â†‘) a(â†) s(â†“) d(â†’) q(quit)
Enter move (w/a/s/d) or q to quit:
```

### æ¸¸æˆç‰¹æ€§è¯´æ˜ï¼š

1. **æ¸…æ™°çš„ç•Œé¢**ï¼šä½¿ç”¨ASCIIå­—ç¬¦ç»˜åˆ¶4Ã—4çš„æ£‹ç›˜
2. **åˆ†æ•°ç³»ç»Ÿ**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰å¾—åˆ†
3. **æ–¹å‘æ§åˆ¶**ï¼š
   - wï¼šå‘ä¸Šç§»åŠ¨
   - aï¼šå‘å·¦ç§»åŠ¨
   - sï¼šå‘ä¸‹ç§»åŠ¨
   - dï¼šå‘å³ç§»åŠ¨
   - qï¼šé€€å‡ºæ¸¸æˆ
4. **æ¸¸æˆçŠ¶æ€æç¤º**ï¼š
   - è¾¾åˆ°2048æ—¶æ˜¾ç¤ºç¥è´ºä¿¡æ¯
   - æ¸¸æˆç»“æŸæ—¶æç¤º
   - å¯ä»¥ç»§ç»­æ¸¸æˆæˆ–é‡æ–°å¼€å§‹
5. **è·¨å¹³å°æ”¯æŒ**ï¼šè‡ªåŠ¨è¯†åˆ«æ“ä½œç³»ç»Ÿè¿›è¡Œæ¸…å±

### æ¸¸æˆæµç¨‹ç¤ºä¾‹ï¼š
1. æ¸¸æˆå¼€å§‹æ—¶æœ‰ä¸¤ä¸ªéšæœºä½ç½®çš„æ•°å­—ï¼ˆ2æˆ–4ï¼‰
2. ç©å®¶è¾“å…¥ç§»åŠ¨æ–¹å‘
3. æ•°å­—å‘è¯¥æ–¹å‘ç§»åŠ¨å¹¶åˆå¹¶ç›¸åŒæ•°å­—
4. åœ¨ç©ºç™½ä½ç½®ç”Ÿæˆæ–°æ•°å­—ï¼ˆ2æˆ–4ï¼‰
5. æ£€æŸ¥æ˜¯å¦è¾¾åˆ°2048æˆ–æ¸¸æˆç»“æŸ
6. é‡å¤2-5æ­¥ç›´åˆ°æ¸¸æˆç»“æŸæˆ–ç©å®¶é€€å‡º

è¿™ä¸ªå®ç°åŒ…å«äº†2048æ¸¸æˆçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œæ‰©å±•ã€‚ä½ å¯ä»¥é€šè¿‡æ·»åŠ é¢œè‰²ã€ä¿å­˜æœ€é«˜åˆ†ç­‰åŠŸèƒ½æ¥è¿›ä¸€æ­¥ä¸°å¯Œæ¸¸æˆä½“éªŒã€‚